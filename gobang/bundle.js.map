{"version":3,"sources":["webpack:///webpack/bootstrap dd0773a18b4dd5259cb6","webpack:///./src/main.js","webpack:///./src/game.js"],"names":["window","game","init","document","querySelector","addEventListener","style","display","GAME","canvasSelector","statusSelector","resultSelector","el","ctx","getContext","statusEl","resultEl","player","firstInit","waiting","process","lastImg","rowNum","colNum","row","col","alert","chessGrid","chessmanSize","status","i","j","fillStyle","fillRect","strokeStyle","beginPath","moveTo","lineTo","stroke","bindEvent","innerText","type","station","arc","Math","PI","fill","closePath","isClear","length","lineJoin","x","y","e","undefined","way","count","flagL","flagR","res","checkIfChess","layerX","layerY","offsetX","offsetY","xCount","floor","yCount","putImageData","createChessman","getImageData","width","height","createCurrentTip","innerHTML","push","judgeGameOver"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap dd0773a18b4dd5259cb6","import { GAME } from './game'\r\nwindow.game = new GAME('#canvas', '#status', '.result');\r\ngame.init(20, 20, 1000, 1000);\r\ndocument.querySelector('#result button').addEventListener('click', () => {\r\n\tgame.init(20, 20, 1000, 1000);\r\n\tdocument.querySelector('#result').style.display = 'none';\r\n});\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","/**\r\n * el 画布元素\r\n * ctx 画布context\r\n * statusEl 状态元素\r\n * resultEl 游戏结束提示元素\r\n * player 当前玩家，true白棋，false黑棋\r\n * firstInit 是否初次渲染\r\n * waiting 是否游戏已结束，等待初始化\r\n * process 游戏过程\r\n * lastImg 上一个画布（用于清除s当前棋子的提示）\r\n * rowNum 行格子数量\r\n * colNum 列格子数量\r\n * row 行长度\r\n * col 列长度\r\n * chessGrid 格子大小\r\n * chessmanSize 棋子大小\r\n */\r\nclass GAME {\r\n    constructor(canvasSelector, statusSelector, resultSelector) {\r\n        this.el = document.querySelector(canvasSelector);\r\n        this.ctx = this.el.getContext('2d');\r\n        this.statusEl = document.querySelector(statusSelector);\r\n        this.resultEl = document.querySelector(resultSelector);\r\n        this.player = false;\r\n        this.firstInit = true; // 是否第一次初始化\r\n        this.waiting = false;\r\n        this.process = [];\r\n        this.lastImg = null;\r\n    }\r\n    /**\r\n     * 初始化棋盘\r\n     * @param  {Number} rowNum 行格子数量\r\n     * @param  {Number} colNum 列格子数量\r\n     * @param  {Number} row 行长度\r\n     * @param  {Number} col 列长度\r\n     */\r\n    init(rowNum, colNum, row, col) {\r\n        if (row / rowNum != col / colNum) {\r\n            alert('格子非正方形，不能初始化.');\r\n            return false;\r\n        }\r\n        this.rowNum = rowNum;\r\n        this.colNum = colNum;\r\n        this.row = row;\r\n        this.col = col;\r\n        // 设置格子大小\r\n        this.chessGrid = row / rowNum;\r\n        // 设置棋子大小\r\n        this.chessmanSize = row / rowNum / 2 - 2;\r\n\r\n        // 用二维数组设置棋局\r\n        this.status = [];\r\n        for (let i = 0; i < rowNum - 1; i++) {\r\n            this.status[i] = [];\r\n            for (let j = 0; j < colNum - 1; j++) {\r\n                this.status[i][j] = null;\r\n            }\r\n        }\r\n\r\n        // 画棋盘\r\n        // 画背景\r\n        this.ctx.fillStyle = \"#FFF\";\r\n        this.ctx.fillRect(0, 0, row, col);\r\n        // 画线条\r\n        this.ctx.strokeStyle = \"#000\";\r\n        this.ctx.beginPath();\r\n        let i = 1;\r\n        while (i < rowNum) {\r\n            this.ctx.moveTo(0, i * row / rowNum);\r\n            this.ctx.lineTo(row, i * row / rowNum);\r\n            i++;\r\n        }\r\n        i = 1;\r\n        while (i < colNum) {\r\n            this.ctx.moveTo(i * col / colNum, 0);\r\n            this.ctx.lineTo(i * col / colNum, col);\r\n            i++;\r\n        }\r\n        this.ctx.stroke();\r\n        if (this.firstInit) {\r\n            this.firstInit = false;\r\n            this.bindEvent();\r\n        }\r\n        this.statusEl.innerText = '';\r\n        this.waiting = false;\r\n        this.player = false;\r\n        this.process = [];\r\n    }\r\n    /**\r\n     * 创建棋子\r\n     * @param  {Boolean} type 黑棋type=false,白棋type=true\r\n     * @param  {Array} station [横坐标, 纵坐标]\r\n     */\r\n    createChessman(type, station) {\r\n        this.ctx.fillStyle = type ? '#fff' : '#000';\r\n        this.ctx.beginPath();\r\n        this.ctx.arc(station[0], station[1], this.chessmanSize, 0, 2 * Math.PI);\r\n        this.ctx.fill();\r\n        this.ctx.strokeStyle = '#000';\r\n        this.ctx.beginPath();\r\n        this.ctx.arc(station[0], station[1], this.chessmanSize, 0, 2 * Math.PI);\r\n        this.ctx.stroke();\r\n        this.ctx.closePath();\r\n    }\r\n\r\n    /**\r\n     * 创建最后一次下的棋子是哪个的提示\r\n     * @param  {Array} station [横坐标, 纵坐标]\r\n     * @param  {Boolean} isClear 是否为清除操作\r\n     */\r\n    createCurrentTip(station, isClear) {\r\n        let length = this.chessmanSize / 2;\r\n        this.ctx.strokeStyle = isClear ? '#fff' : '#f75000';\r\n        this.ctx.lineJoin = 'miter';\r\n        this.ctx.beginPath();\r\n        // 左上角\r\n        this.ctx.moveTo(station[0] - this.chessmanSize + length, station[1] - this.chessmanSize);\r\n        this.ctx.lineTo(station[0] - this.chessmanSize, station[1] - this.chessmanSize);\r\n        this.ctx.lineTo(station[0] - this.chessmanSize, station[1] - this.chessmanSize + length);\r\n        // 左下角\r\n        this.ctx.moveTo(station[0] - this.chessmanSize, station[1] + this.chessmanSize - length);\r\n        this.ctx.lineTo(station[0] - this.chessmanSize, station[1] + this.chessmanSize);\r\n        this.ctx.lineTo(station[0] - this.chessmanSize + length, station[1] + this.chessmanSize);\r\n        // 右下角\r\n        this.ctx.moveTo(station[0] + this.chessmanSize - length, station[1] + this.chessmanSize);\r\n        this.ctx.lineTo(station[0] + this.chessmanSize, station[1] + this.chessmanSize);\r\n        this.ctx.lineTo(station[0] + this.chessmanSize, station[1] + this.chessmanSize - length);\r\n        // 右上角\r\n        this.ctx.moveTo(station[0] + this.chessmanSize, station[1] - this.chessmanSize + length);\r\n        this.ctx.lineTo(station[0] + this.chessmanSize, station[1] - this.chessmanSize);\r\n        this.ctx.lineTo(station[0] + this.chessmanSize - length, station[1] - this.chessmanSize);\r\n        this.ctx.stroke();\r\n    }\r\n\r\n    /**\r\n     * 判断是否有同样颜色的棋子\r\n     * @param  {Boolean} type 黑棋type=false,白棋type=true\r\n     * @param  {Number} x X坐标\r\n     * @param  {Number} y Y坐标\r\n     * @return {Boolean}   true白棋，false黑棋，null空，undefined超出边界\r\n     */\r\n    checkIfChess(x, y) {\r\n        // 由于有可能越出边界，所以使用trc-catch方便判断\r\n        try {\r\n            let status = this.status[x][y];\r\n            return status;\r\n        } catch (e) {\r\n            return undefined;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 判断游戏是否结束\r\n     * @param  {Number} x X坐标\r\n     * @param  {Number} y Y坐标\r\n     * @param  {Number} way 1横，2竖，3左上-右下，4左下-右上\r\n     * @param  {Boolean} direc 方向：1前，2后\r\n     * @param  {Number} count 计数\r\n     * @return {Boolean} [description]\r\n     */\r\n    judgeGameOver(x, y, way) {\r\n        let count = 1;\r\n        let flagL = false,\r\n            flagR = false;\r\n        switch (way) {\r\n            case 1:\r\n                for (let i = 1; i <= 4; i++) {\r\n                    let res = this.checkIfChess(x - i, y);\r\n                    if (res === this.player) {\r\n                        count++;\r\n                    } else if (res === null) {\r\n                        flagL = true;\r\n                        break;\r\n                    } else {\r\n                        break;\r\n                    }\r\n                }\r\n                for (let i = 1; i <= 4; i++) {\r\n                    let res = this.checkIfChess(x + i, y);\r\n                    if (res === this.player) {\r\n                        count++;\r\n                    } else if (res === null) {\r\n                        flagR = true;\r\n                        break;\r\n                    } else {\r\n                        break;\r\n                    }\r\n                }\r\n                break;\r\n            case 2:\r\n                for (let i = 1; i <= 4; i++) {\r\n                    let res = this.checkIfChess(x, y - i);\r\n                    if (res === this.player) {\r\n                        count++;\r\n                    } else if (res === null) {\r\n                        flagL = true;\r\n                        break;\r\n                    } else {\r\n                        break;\r\n                    }\r\n                }\r\n                for (let i = 1; i <= 4; i++) {\r\n                    let res = this.checkIfChess(x, y + i);\r\n                    if (res === this.player) {\r\n                        count++;\r\n                    } else if (res === null) {\r\n                        flagR = true;\r\n                        break;\r\n                    } else {\r\n                        break;\r\n                    }\r\n                }\r\n                break;\r\n            case 3:\r\n                for (let i = 1; i <= 4; i++) {\r\n                    let res = this.checkIfChess(x - i, y - i);\r\n                    if (res === this.player) {\r\n                        count++;\r\n                    } else if (res === null) {\r\n                        flagL = true;\r\n                        break;\r\n                    } else {\r\n                        break;\r\n                    }\r\n                }\r\n                for (let i = 1; i <= 4; i++) {\r\n                    let res = this.checkIfChess(x + i, y + i);\r\n                    if (res === this.player) {\r\n                        count++;\r\n                    } else if (res === null) {\r\n                        flagR = true;\r\n                        break;\r\n                    } else {\r\n                        break;\r\n                    }\r\n                }\r\n                break;\r\n            case 4:\r\n                for (let i = 1; i <= 4; i++) {\r\n                    let res = this.checkIfChess(x + i, y - i);\r\n                    if (res === this.player) {\r\n                        count++;\r\n                    } else if (res === null) {\r\n                        flagL = true;\r\n                        break;\r\n                    } else {\r\n                        break;\r\n                    }\r\n                }\r\n                for (let i = 1; i <= 4; i++) {\r\n                    let res = this.checkIfChess(x - i, y + i);\r\n                    if (res === this.player) {\r\n                        count++;\r\n                    } else if (res === null) {\r\n                        flagR = true;\r\n                        break;\r\n                    } else {\r\n                        break;\r\n                    }\r\n                }\r\n                break;\r\n        }\r\n        //  || (flagL && flagR && count == 4)\r\n        if (count == 5) {\r\n            return true;\r\n        }\r\n        /*// 判断横\r\n        if (this.checkIfChess(x - 1, y) || this.checkIfChess(x + 1, y)) {\r\n            console.log('横')\r\n        }\r\n        // 判断竖\r\n        if (this.checkIfChess(x, y - 1) || this.checkIfChess(x, y + 1)) {\r\n            console.log('竖')\r\n        }\r\n        // 判断斜（左上-右下）\r\n        if (this.checkIfChess(x - 1, y - 1) || this.checkIfChess(x + 1, y + 1)) {\r\n            console.log('左上-右下')\r\n        }\r\n        // 判断斜（左下-右上）\r\n        if (this.checkIfChess(x - 1, y + 1) || this.checkIfChess(x + 1, y - 1)) {\r\n            console.log('左下-右上')\r\n        }*/\r\n    }\r\n\r\n\r\n\r\n    /**\r\n     * 绑定事件（下棋用）\r\n     * @return {[type]} [description]\r\n     */\r\n    bindEvent() {\r\n        this.el.addEventListener('click', (e) => {\r\n            if (this.waiting) {\r\n                return false;\r\n            }\r\n            let x, y;\r\n            if (e.layerX || e.layerX == 0) {\r\n                x = e.layerX;\r\n                y = e.layerY;\r\n            } else if (e.offsetX || e.offsetX == 0) { // Opera  \r\n                x = e.offsetX;\r\n                y = e.offsetY;\r\n            }\r\n            let xCount = Math.floor((x - this.chessGrid / 2) / this.chessGrid) + 1,\r\n                yCount = Math.floor((y - this.chessGrid / 2) / this.chessGrid) + 1;\r\n            // 满足下棋条件之后，下棋并判断是否游戏结束\r\n            if (xCount &&\r\n                yCount &&\r\n                xCount < this.rowNum &&\r\n                yCount < this.colNum &&\r\n                this.status[xCount - 1][yCount - 1] === null) {\r\n                if (this.process.length) {\r\n                    this.ctx.putImageData(this.lastImg, 0, 0);\r\n                }\r\n                this.createChessman(this.player, [this.chessGrid * xCount, this.chessGrid * yCount]);\r\n                this.lastImg = this.ctx.getImageData(0, 0, this.el.width, this.el.height)\r\n                this.createCurrentTip([this.chessGrid * xCount, this.chessGrid * yCount]);\r\n                this.status[xCount - 1][yCount - 1] = this.player;\r\n                this.statusEl.innerHTML += (this.player ? '白棋' : '黑棋') + '走：(' + xCount + ',' + yCount + ')<br/>';\r\n                this.process.push([xCount, yCount]);\r\n                // 判断游戏是否结束\r\n                if (this.judgeGameOver(xCount - 1, yCount - 1, 1) ||\r\n                    this.judgeGameOver(xCount - 1, yCount - 1, 2) ||\r\n                    this.judgeGameOver(xCount - 1, yCount - 1, 3) ||\r\n                    this.judgeGameOver(xCount - 1, yCount - 1, 4)) {\r\n                    this.statusEl.innerHTML += (this.player ? '白棋' : '黑棋') + '胜！';\r\n                    document.querySelector('#result').style.display = 'block';\r\n                    this.resultEl.innerText = (this.player ? '白棋' : '黑棋') + '胜！';\r\n                    this.waiting = true;\r\n                    // setTimeout(() => {\r\n                    // this.init(this.rowNum, this.colNum, this.row, this.col);\r\n                    // }, 3000)\r\n                } else {\r\n                    this.player = !this.player;\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\nexport { GAME };\n\n\n// WEBPACK FOOTER //\n// ./src/game.js"],"sourceRoot":""}