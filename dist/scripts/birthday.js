"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},list=[{date:"2018.11.02.",img:"/dist/img_sp/20181102.jpg",desc:"我们加了微信，说了第一句问候语，任静哈，你好，请多指教。",init:!1},{date:"2018.11.10.",img:"/dist/img_sp/20181110.jpg",desc:"粗心的我买错了回老家的高铁票，还没办法改签，但也错打正着，在那个周末，我们约了第一次吃饭和看电影，那时候觉得你是个可爱的爱吃鱼头的话痨女孩子。",init:!1},{date:"2018.11.18.",img:["/dist/img_sp/20181118_1.jpg","/dist/img_sp/20181118_2.jpg"],desc:"那个时候我经常流鼻血，鼻炎也一直拖着不好，你陪我去医院，让我感受到了温暖，同时也保留下了我第一张黑照。",init:!1},{date:"2018.11.25.",img:"/dist/img_sp/20181125.jpg",desc:"我们去了云台花园和白云山，第一次牵了你的手。",init:!1},{date:"2018.12.09.",img:"/dist/img_sp/20181209.jpg",desc:"我们第一次去红专厂拍照。",init:!1},{date:"2018.12.25.",img:["/dist/img_sp/20181225_1.jpg","/dist/img_sp/20181225_2.jpg","/dist/img_sp/20181225_3.jpg"],desc:"圣诞节",init:!1},{date:"2019.01.01.",img:["/dist/img_sp/20190101_1.jpg","/dist/img_sp/20190101_2.jpg"],desc:"元旦",init:!1},{date:"2019.01.17.",img:"/dist/img_sp/20190117.jpg",desc:"第二天你就要回湖北了，超级不舍，所以给你留了纪念。",init:!1},{date:"2019.01.19.",img:"/dist/img_sp/20190119.jpg",desc:"我们第一次视频聊天，我看到了一个不一样的你。",init:!1},{date:"未来",img:"/dist/img_sp/love.png",desc:"想跟你留下更多回忆，想跟你一直走下去。",init:!1}],x=void 0,y=void 0,isStarted=!1;function start(){console.log("start");for(var i=document.querySelector("#first"),e=document.querySelector("#second"),t="",s=0;s<list.length;s++){var n="";if(list[s].img&&"object"===_typeof(list[s].img))if(s<2){for(var l=0;l<list[s].img.length;l++)n+='<img src="'+list[s].img[l]+'" alt="" class="list-img"">';list[s].init=!0}else for(var c=0;c<list[s].img.length;c++)n+='<img data-src="'+list[s].img[c]+'" alt="" class="list-img" src="/dist/img_sp/love.png">';else list[s].img&&(s<2?(n='<img src="'+list[s].img+'" alt="" class="list-img">',list[s].init=!0):n='<img data-src="'+list[s].img+'" alt="" class="list-img" src="/dist/img_sp/love.png">');t+='<li class="li">\n\t\t\t<div class="list-icon">\n\t\t\t\t<div class="list-icon-ver"></div>\n\t\t\t\t<div class="list-icon-hor"></div>\n\t\t\t</div>\n\t\t\t<p class="list-date">\n\t\t\t\t'+list[s].date+"\n\t\t\t</p>\n\t\t\t"+n+'\n\t\t\t<p class="list-desc">\n\t\t\t\t'+list[s].desc+"\n\t\t\t</p>\n\t\t</li>"}e.innerHTML=t,i.className="left",i.addEventListener("animationend",function(t){i.style.display="none",e.style.position="static",isStarted=!0});var o=document.querySelector(".img-default");e.addEventListener("click",function(t){t.preventDefault(),"img"===t.target.tagName.toLowerCase()&&(o.style.backgroundImage="url('"+t.target.src+"')",o.style.display="block")}),o.addEventListener("click",function(t){o.style.backgroundImage="",o.style.display="none"});var d=!1;window.addEventListener("scroll",function(){if(d)return!1;d=!0,setTimeout(function(){window.scrollY;for(var t=document.documentElement.clientHeight,i=0;i<list.length;i++)if(!list[i].init){list[i].el||(list[i].el=document.querySelectorAll("#second li")[i],list[i].img=list[i].el.querySelectorAll("img"));var e=list[i].el.getBoundingClientRect(),s=e.y;0<s+e.height&&s<t-30&&(list[i].img.forEach(function(t){t.src=t.getAttribute("data-src")}),list[i].init=!0)}d=!1},250)})}document.querySelector(".bottom").addEventListener("click",function(){if(isStarted)return document.querySelector(".bottom").removeEventListener("click"),!1;start()}),document.documentElement.addEventListener("touchstart",function(t){if(isStarted)return!1;var i=t.targetTouches&&t.targetTouches[0];x=i.clientX,y=i.clientY}),document.documentElement.addEventListener("touchend",function(t){if(isStarted)return!1;var i=t.changedTouches&&t.changedTouches[0];i.clientX;i.clientY-y<-50&&start()});var $music=document.querySelector("#music"),$icon=document.querySelector("#icon");$music.addEventListener("canplay",function(){$icon.style.display="block",$icon.addEventListener("click",function(){this.className?(this.className="",$music.play()):(this.className="paused",$music.pause())})});